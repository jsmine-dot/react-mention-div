{"version":3,"sources":["../src/index.js"],"names":["wrapper","Object","freeze","className","options","trigger","onChange","ListingUi","optionsListClass","showOptions","setShowOption","optionListPosition","setOptionListPosition","mentionDict","setMentionDict","optionsAt","setOptionsAt","inputBox","keyUp_deBounce","keyUp","setCursor","node","at","range","document","createRange","setStart","setEnd","selection","window","getSelection","removeAllRanges","collapse","addRange","event","focusOffset","focusedNode","focusNode","textContent","key","wrapInSpan","includes","startsWith","split","slice","span","generateInnerWrapper","innerHTML","length","parentNode","getParentNode","insertAdjacentElement","checkFocusedCell","out","nodeName","getAttribute","child","createElement","appendChild","rect","getBoundingClientRect","top","y","height","left","x","clearOptionsDisplay","splitAt","matchAll","map","item","index","newContents","i","textContentPart","push","atNode","forEach","content","style","color","appendInnerWrapper","dictSetting","option","name","outObject","value","current","innerText","mentions","keys","mentionKey","start","indexOf","end","searchKey","styleKey","childNodes","OptionsUi","element","setAttribute","currentNode","attribute","attributeValue","count","setTimeout","position"],"mappings":"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","sourcesContent":["import React,{useState, useRef, useEffect, useCallback} from 'react';\nimport {deBounce} from \"./utils\";\n\nconst wrapper = Object.freeze({'parent-wrapper':'parent-wrapper', 'inner-wrapper':'inner-wrapper'})\nexport default function ({className, options, trigger, onChange, ListingUi, optionsListClass}) {\n    const [showOptions, setShowOption] = useState(false);\n    const [optionListPosition, setOptionListPosition] = useState(null);\n    const [mentionDict, setMentionDict] = useState({});\n    const [optionsAt, setOptionsAt] = useState(null);\n    const inputBox = useRef();\n    const keyUp_deBounce = deBounce(keyUp,100);\n\n    function setCursor(node, at) {\n        const range = document.createRange();\n        range.setStart(node, at);\n        range.setEnd(node, at);\n        const selection = window.getSelection();\n        selection.removeAllRanges();\n        range.collapse(true)\n        selection.addRange(range)\n    }\n    function keyUp(event) {\n        const selection = window.getSelection();\n        const focusOffset = selection.focusOffset;\n        const focusedNode = selection.focusNode;\n        const textContent = focusedNode.textContent;\n        if(event.key === \"Backspace\"){\n            wrapInSpan()\n        }\n        \n        if(textContent.includes(trigger) && !textContent.startsWith(trigger)){\n            split(event);\n        }else if(event.key === ' ' ){ \n            if(!textContent.startsWith(trigger)){\n                \n            }else {\n                const textContent = focusedNode.textContent;\n                focusedNode.textContent = textContent.slice(0,focusOffset - 1);\n                const span = generateInnerWrapper();\n                span.innerHTML = textContent.slice(focusOffset - 1, textContent.length);\n                const parentNode = getParentNode(focusedNode,\"wrapperType\",wrapper[\"inner-wrapper\"])\n                parentNode.insertAdjacentElement('afterEnd', span);\n                setCursor(span, 1)\n            }\n        }\n        checkFocusedCell();\n        out();\n    }\n    function wrapInSpan(){\n        const focusedNode = window.getSelection().focusNode;\n        if(focusedNode.nodeName == \"#text\"){\n            return;\n        }\n        if(focusedNode.getAttribute('wrapperType') == wrapper[\"parent-wrapper\"]){\n            const wrapper = generateInnerWrapper();\n            const child = document.createElement('br');\n            wrapper.appendChild(child);\n            focusedNode.innerHTML = null;\n            focusedNode.appendChild(wrapper);\n        }\n    }\n    function checkFocusedCell() {\n        const focusedNode = window.getSelection().focusNode;\n        if(focusedNode && focusedNode.textContent.startsWith(trigger)){\n            setShowOption(true);\n            const parentNode = getParentNode(focusedNode,\"wrapperType\",wrapper[\"inner-wrapper\"])\n            const rect = parentNode.getBoundingClientRect();\n            setOptionListPosition(()=>({top:rect.y+rect.height,left:rect.x}));\n            setOptionsAt(()=>getParentNode(focusedNode,\"wrapperType\",wrapper[\"inner-wrapper\"]));\n            \n        }else {\n            clearOptionsDisplay();\n        }\n    }\n    function split() {\n        const focusedNode = window.getSelection().focusNode;\n        const textContent = focusedNode.textContent;\n        const splitAt = [...textContent.matchAll(trigger)].map(item =>item.index);\n        if(splitAt.length === 0){\n            return;\n        }\n        const newContents = [];\n        focusedNode.textContent = textContent.slice(0,splitAt[0]);\n        for(let i = 0; i < splitAt.length; i++){\n            let textContentPart = textContent.slice(splitAt[i],splitAt[i+1]);\n            newContents.push(textContentPart);\n        }\n        let atNode = getParentNode(focusedNode,\"wrapperType\",wrapper[\"inner-wrapper\"]);\n        newContents.forEach(content=>{\n            const style ={}\n            if(content.startsWith(trigger)){\n                style.color = '#0E85E8'\n            }\n            appendInnerWrapper(atNode,content, style)\n        })\n    }\n    function dictSetting(option) {\n        appendInnerWrapper(optionsAt, \"&nbsp;\");\n        optionsAt.textContent = trigger+option.name;\n        mentionDict[trigger+option.name] = option;\n        clearOptionsDisplay();\n        out();\n    }\n    function out() {\n        const focusedNode = window.getSelection().focusNode;\n        const outObject = {};\n        outObject.value = inputBox.current.innerText;\n        const mentions = [];\n        Object.keys(mentionDict).forEach(mentionKey=>{\n            if(outObject.value.includes(mentionKey)){\n                mentions.push({mentionKey,...mentionDict[mentionKey],start:outObject.value.indexOf(mentionKey), end: outObject.value.indexOf(mentionKey) + mentionKey.length})\n            }\n        })\n        outObject.mentions = mentions;\n        if(optionsAt){\n            outObject.searchKey = optionsAt.textContent.slice(1);\n        }\n        onChange(outObject);\n    }\n    function appendInnerWrapper(atNode, content, style={}){\n        const span = generateInnerWrapper();\n        Object.keys(style).forEach(styleKey=>{\n            span.style[styleKey] = style[styleKey];\n        })\n        span.innerHTML= content;\n        atNode.insertAdjacentElement('afterEnd', span)\n        setCursor(span.childNodes[0], span.innerText.length);\n\n    }\n    function clearOptionsDisplay(){\n        setShowOption(()=>false);\n        setOptionsAt(null);\n    }\n    function OptionsUi({style}) {\n        return(<div style={style} className={optionsListClass}>\n            {options.map(option=><div onClick={()=>dictSetting(option)}><ListingUi option={option}/></div>)}\n        </div>)\n    }\n    function generateInnerWrapper(){\n        const element = document.createElement('span');\n        element.setAttribute('wrapperType',wrapper['inner-wrapper']);\n        return element;\n    }\n    function getParentNode(currentNode, attribute, attributeValue){\n        let count = 0;\n        while(true){\n            if(currentNode.nodeName == \"BODY\" || count >= 5){\n                currentNode = null;\n                break;\n            }else if(currentNode.getAttribute && currentNode.getAttribute(attribute) == attributeValue){\n                break;\n            }else{\n                currentNode = currentNode.parentNode;\n                count++;\n            }\n        }\n        return currentNode;\n    }\n    return(<div>\n        <div wrapperType={wrapper['parent-wrapper']} ref={inputBox} className={className} contentEditable={true} onClick={()=>setTimeout(checkFocusedCell,0)} onCut={()=>setTimeout(()=>wrapInSpan(),0)} onPaste={()=>setTimeout(()=>split(),0)} onKeyUp={(event)=>keyUp_deBounce(event)}><span wrapperType={wrapper['inner-wrapper']}><br/></span></div>\n        {showOptions && optionListPosition?<OptionsUi style={{position:'fixed', top: optionListPosition.top, left:optionListPosition.left}}/>:null}\n    </div>)\n}"],"file":"index.js"}